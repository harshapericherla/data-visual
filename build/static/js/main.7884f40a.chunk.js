(this.webpackJsonpjobs=this.webpackJsonpjobs||[]).push([[0],{17:function(e,t,a){e.exports=a(34)},22:function(e,t,a){},23:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"yearClicked",(function(){return y})),a.d(n,"employmentClicked",(function(){return f})),a.d(n,"provinceClicked",(function(){return h}));var r=a(0),i=a.n(r),l=a(9),c=a.n(l),s=(a(22),a(2)),o=a(3),p=a(4),u=a(6),d=a(5),v=a(1),m=(a(23),a(7)),y=function(e){return function(t){t({type:"year_clikced",payload:e})}},f=function(e){return function(t){t({type:"employement_clicked",payload:e})}},h=function(e){return function(t){t({type:"province_clikced",payload:e})}},b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={svgWidth:900,svgHeight:500},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.renderMap()}},{key:"renderMap",value:function(){var e=this.state.svgWidth/2,t=this.state.svgHeight/2,a=v.geoMercator().center([-96,56]).scale(400).translate([e,t]),n=v.geoPath().projection(a),r=this;v.json("canadamap.json",(function(e,t){var a=v.select("svg").append("g").attr("class","boundary").selectAll("boundary").data(t.features).enter().append("g").attr("class",(function(e){return"Ontario"===e.properties.name?"province pClicked":"province"}));a.append("path").attr("class",(function(e){return"Ontario"===e.properties.name?"regionClick":"region"})).attr("d",n).on("click",(function(e){v.selectAll(".regionClick").attr("class","region"),v.selectAll(".province").attr("class","province"),v.select(this).attr("class","regionClick"),v.select(this.parentNode).attr("class","province pClicked");var t=e.properties.name;r.props.provinceClicked(t)})),a.append("svg:title").append("text").text((function(e){return e.properties.name})),a.append("text").attr("class","pText").each((function(e){var t=n.centroid(e);e.textX=t[0],e.textY=t[1]})).attr("x",(function(e){return e.textX-10})).attr("y",(function(e){return e.textY})).text((function(e){return e.properties.name}))}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"map"},i.a.createElement("svg",{width:this.state.svgWidth,height:this.state.svgHeight}))}}]),a}(r.Component),g=Object(m.b)(null,n)(b),k=(a(30),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={svgWidth:300,svgHeight:300},e}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.data.length>0){var t=e.data,a=e.value,n=v.arc();n.innerRadius(80).outerRadius(100),v.select("#"+a.split(" ")[0]).selectAll("*").remove();var r=v.scaleOrdinal().range(["#f7362d","#3eb489","#ff665e","#bfe5c9","#00aa93"]),i=v.select("body").append("div").attr("class","tooltip").style("opacity",0).style("display","none");v.select("#"+a.split(" ")[0]).append("g").attr("transform","translate(150,150)").selectAll("path").data(t).enter().append("path").attr("class","arc").on("mouseover",(function(e){var t=e.data;i.transition().duration(200).style("opacity",.9).style("display","flex"),i.html('<span class="item"><span class="label">Type</span> : '.concat(t.key,'</span> <span class="item"> <span class="label">Population</span>: ').concat(1e3*t.sum,"</span>")).style("left",v.event.pageX+"px").style("top",v.event.pageY-28+"px")})).on("mouseout",(function(e){i.transition().duration(500).style("opacity",0)})).style("fill",(function(e,t){return r(t)})).transition().delay((function(e,t){return 500*t})).duration(1e3).attrTween("d",(function(e){var t=v.interpolate(e.startAngle+.1,e.endAngle);return function(a){return e.endAngle=t(a),n(e)}}))}}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"pie".concat(this.props.value),class:"pieChart"},i.a.createElement("svg",{id:this.props.value.split(" ")[0],width:this.state.svgWidth,height:this.state.svgHeight})),i.a.createElement("div",{class:"pieLabel"},this.props.label))}}]),a}(r.Component)),j=(a(31),a(32),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={svgWidth:700,svgHeight:300},e}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(e.data.length>0){var t=e.data,a=v.nest().key((function(e){return e["Job tenure"]})).entries(t);a=a.filter((function(e){return"Total employed"!==e.key}));for(var n=0;n<a.length;n++){var r=a[n].values,i=v.sum(r,(function(e){return parseInt(e.VALUE)}));a[n].sum=1e3*i}v.select("#barSvg").selectAll("*").remove();var l=v.select("body").append("div").attr("class","tooltip").style("opacity",0).style("display","none"),c=v.max(a,(function(e){return e.sum})),s=v.scaleLinear().domain([0,c]).range([0,200]),o=v.select("#barSvg").attr("transform","translate(0,150)").selectAll("rect").data(a).enter().append("g");o.append("rect").attr("width",80).attr("height",(function(e){return s(e.sum)})).on("mouseover",(function(e){console.log(e),l.transition().duration(200).style("opacity",.9).style("display","flex"),l.html('<span class="item"><span class="label">Population</span>:'.concat(e.sum,"</span>")).style("left",v.event.pageX+"px").style("top",v.event.pageY-28+"px")})).on("mouseout",(function(e){l.transition().duration(500).style("opacity",0)})).transition().duration(750).delay((function(e,t){return 150*t})).attr("x",(function(e,t){return 100*t})).attr("y",(function(e){return 200-s(e.sum)})).style("fill","#3eb489").style("stroke","#9A8B7A").style("stroke-width","1px"),o.append("text").attr("class","txt-class").attr("x",(function(e,t){return 100*t})).attr("y",(function(e){return 220})).text((function(e){return console.log(e),e.key}))}}},{key:"render",value:function(){return i.a.createElement("div",{id:"barGraph"},i.a.createElement("div",{id:"barChartGraph"},i.a.createElement("svg",{id:"barSvg",width:this.state.svgWidth,height:this.state.svgHeight})),i.a.createElement("div",{class:"barLabel"},this.props.label))}}]),a}(r.Component)),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).initializeData=function(t,a,n){v.csv("data.csv",(function(r,i){var l=i,c=e.filterData("REF_DATE",t,l),s=e.filterData("GEO",n,c);if(0==s.length)e.setState({dataAvailable:!1});else{e.setState({dataAvailable:!0});var o=e.filterData("Type of work",a,s),p=e.filterData("UOM_ID","249",o),u=e.filterData("SCALAR_ID","3",p),d=e.filterData("Type of work","Both full and part-time employment",s),v=e.filterData("UOM_ID","249",d),m=e.filterData("SCALAR_ID","3",v);e.setState({pieChartData:u,barChartData:m})}}))},e.filterData=function(e,t,a){var n=[];return n=(n=v.nest().key((function(t){return t[e]})).entries(a).filter((function(e){return e.key==t}))[0])?n.values:[]},e.state={pieChartData:[],barChartData:[],pieOneProp:"Sex",pieTwoProp:"Age group",pieThreeProp:"Job tenure",dataAvailable:!1},e}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.year_clikced,a=e.employement_clicked,n=e.province_clikced;this.initializeData(t,a,n)}},{key:"componentDidMount",value:function(){this.initializeData("2018","Full-time employment","Ontario")}},{key:"getPieData",value:function(e,t){for(var a=v.nest().key((function(e){return e[t]})).entries(e),n=0;n<a.length;n++){var r=a[n].values,i=v.sum(r,(function(e){return parseInt(e.VALUE)}));a[n].sum=i}var l=v.pie();return l.value((function(e){return e.sum})),l(a)}},{key:"render",value:function(){return i.a.createElement("div",{id:"chart"},i.a.createElement("div",{id:"provinceLabel"},this.props.province_clikced),i.a.createElement("div",{id:"pieCharts",style:{display:this.state.dataAvailable?"flex":"none"}},i.a.createElement(k,{data:this.getPieData(this.state.pieChartData,this.state.pieOneProp),value:this.state.pieOneProp,label:"Employment: Gender"}),i.a.createElement(k,{data:this.getPieData(this.state.pieChartData,this.state.pieTwoProp),value:this.state.pieTwoProp,label:"Employment: Age Group"}),i.a.createElement(k,{data:this.getPieData(this.state.pieChartData,this.state.pieThreeProp),value:this.state.pieThreeProp,label:"Employment: Job Tenure"})),i.a.createElement("div",{id:"barChart",style:{display:this.state.dataAvailable?"flex":"none"}},i.a.createElement(j,{data:this.state.barChartData,label:"Employment: Full and Part Time Job Tenure"})),i.a.createElement("div",{id:"no-data",style:{display:this.state.dataAvailable?"none":"flex"}},"No Data Available"))}}]),a}(r.Component),E=Object(m.b)((function(e){var t;return e.jobs=e.jobs||{},t={},Object(s.a)(t,"year_clikced",e.jobs.year_clikced||"2018"),Object(s.a)(t,"employement_clicked",e.jobs.employement_clicked||"Full-time employment"),Object(s.a)(t,"province_clikced",e.jobs.province_clikced||"Ontario"),t}))(O),C=(a(33),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={year:"2018",empType:"Full-time employment"},e.yearClicked=function(t){e.setState({year:t}),e.props.yearClicked(t)},e.employmentClicked=function(t){e.setState({empType:t}),e.props.employmentClicked(t)},e}return Object(p.a)(a,[{key:"render",value:function(){var e,t,a=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{id:"dashBoard"},i.a.createElement("div",{class:"group group-one"},i.a.createElement("div",{class:"header"},"Years"),i.a.createElement("div",{class:"content"},i.a.createElement("div",{class:"2018"===this.state.year?"cText active":"cText",onClick:function(){return a.yearClicked("2018")}},"2018"),i.a.createElement("div",{class:"2019"===this.state.year?"cText active":"cText",onClick:function(){return a.yearClicked("2019")}},"2019"))),i.a.createElement("div",{class:"group"},i.a.createElement("div",{class:"header"},"Employment Type"),i.a.createElement("div",{class:"content"},i.a.createElement("div",(e={class:"cText"},Object(s.a)(e,"class","Full-time employment"===this.state.empType?"cText active":"cText"),Object(s.a)(e,"onClick",(function(){return a.employmentClicked("Full-time employment")})),e),"Full-Time"),i.a.createElement("div",(t={class:"cText"},Object(s.a)(t,"class","Part-time employment"===this.state.empType?"cText active":"cText"),Object(s.a)(t,"onClick",(function(){return a.employmentClicked("Part-time employment")})),t),"Part-Time")))),i.a.createElement("div",{id:"bodyCt"},i.a.createElement(g,null),i.a.createElement(E,null)))}}]),a}(r.Component)),x=Object(m.b)(null,n)(C),A=a(16),T=a(8),D=a(10),_=Object(T.c)({jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"year_clikced":return Object(D.a)({},e,Object(s.a)({},"year_clikced",t.payload));case"employement_clicked":return Object(D.a)({},e,Object(s.a)({},"employement_clicked",t.payload));case"province_clikced":return Object(D.a)({},e,Object(s.a)({},"province_clikced",t.payload));default:return e}}}),P=Object(T.d)(_,{},Object(T.a)(A.a));c.a.render(i.a.createElement(m.a,{store:P},i.a.createElement(x,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7884f40a.chunk.js.map