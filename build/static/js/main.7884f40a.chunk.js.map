{"version":3,"sources":["actions/ChartAction.js","actions/types.js","components/MapComponent.js","components/PieChart.js","components/BarChart.js","components/Chart.js","App.js","reducers/index.js","reducers/jobsReducer.js","index.js"],"names":["yearClicked","year","dispatch","type","payload","employmentClicked","empType","provinceClicked","province","MapComponent","state","svgWidth","svgHeight","this","renderMap","x","y","chosenProjection","d3","center","scale","translate","path","projection","mapThis","error","geoData","boundary","append","attr","selectAll","data","features","enter","d","properties","name","on","parentNode","proviceName","props","text","each","centroid","textX","textY","id","width","height","Component","connect","actions","PieChart","length","myPie","value","newArc","innerRadius","outerRadius","split","remove","colourScale","range","div","style","transition","duration","html","key","sum","pageX","pageY","i","delay","attrTween","startAngle","endAngle","t","class","label","BarChart","jobTenureData","entries","filter","obj","values","parseInt","VALUE","higestDomain","yScale","domain","svg","console","log","highestRange","Chart","initializeData","csvData","yearData","filterData","provinceData","setState","dataAvailable","typeOfWork","standardUom","standardScalar","bothWork","barStandardUom","barStandardScalar","pieChartData","barChartData","keyArg","filterArg","dataArg","pieOneProp","pieTwoProp","pieThreeProp","nestedPie","pieChart","getPieData","jobs","App","className","onClick","combineReducers","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7884f40a.chunk.js","sourcesContent":["import {YEAR_CLICKED, EMPLOYMENT_CLICKED, PROVINCE_CLICKED} from './types';\r\n\r\nexport const yearClicked = (year) => dispatch => {\r\n   \r\n     dispatch({type:YEAR_CLICKED,payload:year})\r\n}\r\n\r\nexport const employmentClicked = (empType) => dispatch => {\r\n     dispatch({type:EMPLOYMENT_CLICKED,payload:empType})\r\n}\r\n\r\n\r\nexport const provinceClicked = (province) => dispatch => {\r\n     dispatch({type:PROVINCE_CLICKED,payload:province})\r\n}","export const YEAR_CLICKED = \"year_clikced\";\r\nexport const EMPLOYMENT_CLICKED = \"employement_clicked\";\r\nexport const PROVINCE_CLICKED = \"province_clikced\";","import React, { Component } from 'react'\r\nimport * as d3 from \"d3\";\r\nimport \"../styles/map.css\";\r\nimport {connect} from 'react-redux';\r\nimport * as actions from './../actions/ChartAction';\r\n\r\nclass MapComponent extends Component {\r\n\r\n\r\n    state = {\r\n        svgWidth: 900,\r\n        svgHeight: 500\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n         this.renderMap();\r\n    }\r\n\r\n    renderMap()\r\n    {\r\n        let x = this.state.svgWidth/2;\r\n        let y = this.state.svgHeight/2;\r\n        var chosenProjection = d3.geoMercator()\r\n                                .center([-96.0, 56.0])\r\n                                .scale(400)\r\n                                .translate([x,y]);\r\n                             \r\n        var path = d3.geoPath()\r\n        .projection(chosenProjection);\r\n        let mapThis = this;\r\n        d3.json(\"canadamap.json\", function(error, geoData) {\r\n          \r\n          let boundary = d3.select(\"svg\").append(\"g\")\r\n                .attr(\"class\",\"boundary\")\r\n                .selectAll(\"boundary\")\r\n                .data(geoData.features)\r\n                .enter().append(\"g\")\r\n                .attr(\"class\",d => {\r\n                     if(d.properties.name === 'Ontario')\r\n                     {\r\n                         return \"province pClicked\";\r\n                     }\r\n                     return \"province\";\r\n                })\r\n            \r\n          let paths = boundary.append(\"path\")\r\n                    .attr(\"class\",d => {\r\n                        if(d.properties.name === 'Ontario')\r\n                        {\r\n                            return \"regionClick\";\r\n                        }\r\n                        return \"region\";\r\n                    })\r\n                    .attr(\"d\",path)\r\n                    .on(\"click\", function(d){\r\n                         d3.selectAll(\".regionClick\").attr(\"class\", \"region\");\r\n                         d3.selectAll(\".province\").attr(\"class\", \"province\");\r\n                         d3.select(this).attr(\"class\",\"regionClick\")\r\n                         d3.select(this.parentNode).attr(\"class\",\"province pClicked\");\r\n                         let proviceName = d.properties.name;\r\n                         mapThis.props.provinceClicked(proviceName);\r\n                     })\r\n          let tooltip = boundary.append(\"svg:title\")\r\n                       .append(\"text\")\r\n                       .text(d => d.properties.name)\r\n          let names = boundary.append(\"text\")\r\n                              .attr(\"class\",\"pText\")\r\n                              .each( (d) => {\r\n                                  let centroid = path.centroid(d);\r\n                                  d.textX = centroid[0];\r\n                                  d.textY = centroid[1];\r\n                              })\r\n                              .attr(\"x\",(d) => d.textX - 10)\r\n                              .attr(\"y\",(d) => d.textY)\r\n                              .text(d => d.properties.name)\r\n        });\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"map\">\r\n                 <svg width={this.state.svgWidth} height={this.state.svgHeight}></svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default connect(null,actions)(MapComponent);\r\n","import React, { Component } from 'react'\r\nimport * as d3 from \"d3\";\r\nimport './../styles/pieChart.css';\r\n\r\nclass PieChart extends Component {\r\n\r\n\r\n    state = {\r\n        svgWidth:300,\r\n        svgHeight: 300\r\n    }\r\n    componentWillReceiveProps(props)\r\n    {\r\n         if(props.data.length > 0)\r\n         {\r\n              let myPie = props.data;\r\n              let value = props.value;\r\n              let newArc = d3.arc();\r\n              newArc.innerRadius(80)\r\n                    .outerRadius(100);\r\n              d3.select(`#`+value.split(\" \")[0]).selectAll(\"*\").remove();\r\n              let colourScale = d3.scaleOrdinal().range([`#f7362d`,'#3eb489','#ff665e','#bfe5c9','#00aa93']);\r\n              \r\n              var div = d3.select(`body`).append(\"div\")\t\r\n                        .attr(\"class\", \"tooltip\")\t\t\t\t\r\n                        .style(\"opacity\", 0)\r\n                        .style(\"display\",\"none\")\r\n            \r\n             var g =   d3.select(`#`+value.split(\" \")[0])\r\n                .append(\"g\")\r\n                .attr(\"transform\",\"translate(150,150)\")\r\n\r\n\r\n                g.selectAll(\"path\")\r\n                .data(myPie)\r\n                .enter()\r\n                .append(\"path\")\r\n                .attr(\"class\",\"arc\")\r\n                .on(\"mouseover\", function({data}) {\t\r\n                    div.transition()\t\t\r\n                        .duration(200)\t\t\r\n                        .style(\"opacity\", .9)\r\n                        .style(\"display\",\"flex\");\t\r\n                    div.html(`<span class=\"item\"><span class=\"label\">Type</span> : ${data.key}</span> <span class=\"item\"> <span class=\"label\">Population</span>: ${data.sum * 1000}</span>`)\t\r\n                        .style(\"left\", (d3.event.pageX) + \"px\")\t\t\r\n                        .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\r\n                    })\r\n                .on(\"mouseout\", function(d) {\t\t\r\n                        div.transition()\t\t\r\n                            .duration(500)\t\t\r\n                            .style(\"opacity\", 0);\t\r\n                 })\t\r\n                .style(\"fill\",(d,i) => colourScale(i))\r\n                .transition().delay(function(d,i) {\r\n                    return i * 500; }).duration(1000)\r\n                    .attrTween('d', function(d) {\r\n                        var i = d3.interpolate(d.startAngle+0.1, d.endAngle);\r\n                        return function(t) {\r\n                            d.endAngle = i(t);\r\n                          return newArc(d);\r\n                        }\r\n                     });\r\n         }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id={`pie${this.props.value}`} class=\"pieChart\">\r\n                    <svg id={this.props.value.split(\" \")[0]} width={this.state.svgWidth} height={this.state.svgHeight} ></svg>\r\n                </div>\r\n                <div class=\"pieLabel\">\r\n                    {this.props.label}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PieChart;","import React, { Component } from 'react';\r\nimport * as d3 from \"d3\";\r\nimport './../styles/bar.css';\r\n\r\nexport default class BarChart extends Component {\r\n\r\n    state = {\r\n        svgWidth:700,\r\n        svgHeight: 300\r\n    }\r\n\r\n    componentWillReceiveProps(props)\r\n    {\r\n         if(props.data.length > 0)\r\n         {\r\n             let data = props.data;\r\n             let jobTenureData = d3.nest().key(d => d[\"Job tenure\"]).entries(data);\r\n             \r\n             jobTenureData = jobTenureData.filter( (d) => {\r\n                 if(d.key === \"Total employed\")\r\n                 {\r\n                     return false;\r\n                 }\r\n                 return true;\r\n             });\r\n             for(let i=0;i<jobTenureData.length;i++)\r\n             {\r\n                   let obj = jobTenureData[i].values;\r\n                   let sum = d3.sum(obj,(d) => parseInt(d.VALUE));\r\n                   jobTenureData[i].sum = sum * 1000;\r\n             }\r\n             d3.select(`#barSvg`).selectAll(\"*\").remove();\r\n             \r\n             var div = d3.select(`body`).append(\"div\")\t\r\n             .attr(\"class\", \"tooltip\")\t\t\t\t\r\n             .style(\"opacity\", 0)\r\n             .style(\"display\",\"none\")\r\n             let highestRange = 200; \r\n             let higestDomain = d3.max(jobTenureData, d => d.sum);\r\n             let yScale = d3.scaleLinear().domain([0,higestDomain]).range([0,highestRange]);\r\n             \r\n             let svg = d3.select(\"#barSvg\")\r\n             .attr(\"transform\",\"translate(0,150)\")\r\n             .selectAll(\"rect\")\r\n             .data(jobTenureData)\r\n             .enter()\r\n             .append(\"g\")\r\n\r\n             svg.append(\"rect\").attr(\"width\",80)\r\n             .attr(\"height\", d => yScale(d.sum))\r\n             .on(\"mouseover\", function(data) {\t\r\n                console.log(data);\r\n                div.transition()\t\t\r\n                    .duration(200)\t\t\r\n                    .style(\"opacity\", .9)\r\n                    .style(\"display\",\"flex\");\t\r\n                div.html(`<span class=\"item\"><span class=\"label\">Population</span>:${data.sum}</span>`)\t\r\n                    .style(\"left\", (d3.event.pageX) + \"px\")\t\t\r\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\r\n                })\r\n            .on(\"mouseout\", function(d) {\t\t\r\n                    div.transition()\t\t\r\n                        .duration(500)\t\t\r\n                        .style(\"opacity\", 0);\t\r\n             })\t\r\n             .transition()\r\n                .duration(750)\r\n                .delay(function (d, i) {\r\n                    return i * 150;\r\n                })\r\n             .attr(\"x\", (d,i) => i*100)\r\n             .attr(\"y\",d => highestRange - yScale(d.sum))\r\n             .style(\"fill\", \"#3eb489\")\r\n             .style(\"stroke\", \"#9A8B7A\")\r\n             .style(\"stroke-width\", \"1px\")\r\n             \r\n\r\n             svg.append(\"text\").attr(\"class\",\"txt-class\").attr(\"x\", (d,i) => i*100)\r\n             .attr(\"y\",d => highestRange+20)\r\n             .text(d => {  console.log(d);  return d.key})\r\n         }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"barGraph\">\r\n                <div id=\"barChartGraph\">\r\n                    <svg id=\"barSvg\" width={this.state.svgWidth} height={this.state.svgHeight} ></svg>\r\n                </div>\r\n                <div class=\"barLabel\">\r\n                        {this.props.label}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport * as d3 from \"d3\";\r\nimport PieChart from './PieChart';\r\nimport '../styles/chart.css';\r\nimport {connect} from 'react-redux';\r\nimport {YEAR_CLICKED, EMPLOYMENT_CLICKED, PROVINCE_CLICKED} from './../actions/types';\r\nimport BarChart from './BarChart';\r\n\r\nclass Chart extends Component {\r\n\r\n\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            pieChartData:[],\r\n            barChartData:[],\r\n            pieOneProp:\"Sex\",\r\n            pieTwoProp:\"Age group\",\r\n            pieThreeProp:\"Job tenure\",\r\n            dataAvailable: false\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(props)\r\n    {\r\n        let year = props[YEAR_CLICKED];\r\n        let empType = props[EMPLOYMENT_CLICKED];\r\n        let province = props[PROVINCE_CLICKED];\r\n        this.initializeData(year,empType,province);\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        this.initializeData(\"2018\",\"Full-time employment\",\"Ontario\");\r\n    }\r\n\r\n\r\n    initializeData = (year,empType,province) => {\r\n            d3.csv(\"data.csv\",(error, csvData) => {\r\n                \r\n                let data = csvData;\r\n                let yearData = this.filterData(\"REF_DATE\",year,data);   \r\n                let provinceData = this.filterData(\"GEO\",province,yearData);\r\n\r\n                if(provinceData.length == 0)\r\n                {\r\n                    this.setState({dataAvailable:false});\r\n                }\r\n                else\r\n                {\r\n                    this.setState({dataAvailable:true});\r\n                    let typeOfWork = this.filterData(\"Type of work\",empType,provinceData);\r\n                    let standardUom = this.filterData(\"UOM_ID\",\"249\",typeOfWork);\r\n                    let standardScalar = this.filterData(\"SCALAR_ID\",\"3\",standardUom);\r\n\r\n                    let bothWork = this.filterData(\"Type of work\",\"Both full and part-time employment\",provinceData);\r\n                    let barStandardUom = this.filterData(\"UOM_ID\",\"249\",bothWork);\r\n                    let barStandardScalar = this.filterData(\"SCALAR_ID\",\"3\",barStandardUom);\r\n\r\n                    this.setState({pieChartData:standardScalar,barChartData:barStandardScalar});           \r\n                }\r\n            });\r\n    }\r\n\r\n    filterData = (keyArg,filterArg,dataArg) =>\r\n    {\r\n        let data = [];\r\n        let nestedData = d3.nest().key(d => d[keyArg]).entries(dataArg);\r\n        data = nestedData.filter( (data) => {\r\n            if(data.key == filterArg)\r\n            {\r\n                    return true;\r\n            }\r\n            return false;\r\n        })[0];\r\n        data = data ? data.values: [];\r\n        return data;\r\n    }\r\n\r\n    getPieData(data,value)\r\n    {\r\n        let nestedPie = d3.nest().key(d => d[value]).entries(data);\r\n        for(let i=0;i<nestedPie.length;i++)\r\n        {\r\n              let obj = nestedPie[i].values;\r\n              let sum = d3.sum(obj,(d) => parseInt(d.VALUE));\r\n              nestedPie[i].sum = sum;\r\n        }\r\n\r\n\r\n        let pieChart = d3.pie();\r\n\r\n        pieChart.value(d => d.sum);\r\n        let myPie = pieChart(nestedPie);\r\n        return myPie;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"chart\">\r\n                <div id=\"provinceLabel\">{this.props[PROVINCE_CLICKED]}</div>\r\n                <div id=\"pieCharts\" style={{\"display\":this.state.dataAvailable ? \"flex\":\"none\"}}>\r\n                    <PieChart data={this.getPieData(this.state.pieChartData,this.state.pieOneProp)} value={this.state.pieOneProp}  label=\"Employment: Gender\"/>\r\n                    <PieChart data={this.getPieData(this.state.pieChartData,this.state.pieTwoProp)} value={this.state.pieTwoProp}  label=\"Employment: Age Group\"/>\r\n                    <PieChart data={this.getPieData(this.state.pieChartData,this.state.pieThreeProp)} value={this.state.pieThreeProp}  label=\"Employment: Job Tenure\"/>\r\n                </div>\r\n                <div id=\"barChart\" style={{\"display\":this.state.dataAvailable ? \"flex\":\"none\"}}>\r\n                    <BarChart data={this.state.barChartData} label=\"Employment: Full and Part Time Job Tenure\"/>\r\n                </div>\r\n                <div id=\"no-data\" style={{\"display\":this.state.dataAvailable ? \"none\":\"flex\"}}>\r\n                     No Data Available\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    state.jobs = state.jobs || {}; \r\n    let props = {\r\n        [YEAR_CLICKED]: state.jobs[YEAR_CLICKED] || \"2018\",\r\n        [EMPLOYMENT_CLICKED]: state.jobs[EMPLOYMENT_CLICKED] || \"Full-time employment\",\r\n        [PROVINCE_CLICKED]: state.jobs[PROVINCE_CLICKED] || \"Ontario\"\r\n    }\r\n    return props;\r\n}\r\nexport default connect(mapStateToProps)(Chart);\r\n\r\n/*\r\n0: {key: \"Canada\", values: Array(729)}\r\n1: {key: \"Newfoundland and Labrador\", values: Array(729)}\r\n2: {key: \"Prince Edward Island\", values: Array(729)}\r\n3: {key: \"Nova Scotia\", values: Array(729)}\r\n4: {key: \"New Brunswick\", values: Array(729)}\r\n5: {key: \"Quebec\", values: Array(729)}\r\n6: {key: \"Ontario\", values: Array(729)}\r\n7: {key: \"Manitoba\", values: Array(729)}\r\n8: {key: \"Saskatchewan\", values: Array(729)}\r\n9: {key: \"Alberta\", values: Array(729)}\r\n10: {key: \"British Columbia\", values: Array(729)}\r\n*/\r\n\r\n/*\r\n0: {key: \"Both full and part-time employment\", values: Array(243)}\r\n1: {key: \"Full-time employment\", values: Array(243)}\r\n2: {key: \"Part-time employment\", values: Array(243)}\r\n*/","import React from 'react';\nimport MapComponent from './components/MapComponent';\nimport Chart from './components/Chart';\nimport './App.css';\nimport { Component } from 'react';\nimport {connect} from 'react-redux';\nimport * as actions from './actions/ChartAction';\n\nclass App extends Component {\n\n  state = {\n    year: \"2018\",\n    empType: \"Full-time employment\"\n  }\n\n  yearClicked = (year) => {\n      this.setState({year});\n      this.props.yearClicked(year);\n  }\n\n  employmentClicked = (empType) => {\n      this.setState({empType});\n      this.props.employmentClicked(empType);\n  }\n  \n  render()\n  {\n    return (\n      <div className=\"App\"> \n          <div id=\"dashBoard\">\n               <div class=\"group group-one\">\n                   <div class=\"header\">\n                       Years\n                   </div>\n                   <div class=\"content\">\n                      <div class={ this.state.year === \"2018\" ? \"cText active\" : \"cText\"  } onClick={() => this.yearClicked(\"2018\")}>2018</div>\n                      <div class={ this.state.year === \"2019\" ? \"cText active\" : \"cText\"  } onClick={() => this.yearClicked(\"2019\")}>2019</div>\n                   </div>\n               </div>\n               <div class=\"group\">\n                  <div class=\"header\">\n                        Employment Type\n                  </div>\n                  <div class=\"content\">\n                      <div class=\"cText\" class={ this.state.empType === \"Full-time employment\" ? \"cText active\" : \"cText\"  } onClick={() => this.employmentClicked(\"Full-time employment\")}>Full-Time</div>\n                      <div class=\"cText\" class={ this.state.empType === \"Part-time employment\" ? \"cText active\" : \"cText\"  } onClick={() => this.employmentClicked(\"Part-time employment\")}>Part-Time</div>\n                  </div>\n               </div>\n          </div>\n          <div id= \"bodyCt\">\n            <MapComponent />\n            <Chart />\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(null,actions)(App);\n","import {combineReducers} from 'redux';\r\nimport jobsReducer from './jobsReducer';\r\n\r\n\r\nexport default combineReducers({\r\n      jobs:jobsReducer\r\n});","import { YEAR_CLICKED, EMPLOYMENT_CLICKED, PROVINCE_CLICKED } from \"../actions/types\";\r\n\r\nexport default function(state = null,action){\r\n    switch(action.type){\r\n        case YEAR_CLICKED:\r\n            return {...state,[YEAR_CLICKED]:action.payload};\r\n        case EMPLOYMENT_CLICKED:\r\n            return {...state,[EMPLOYMENT_CLICKED]:action.payload};\r\n        case PROVINCE_CLICKED:\r\n            return {...state,[PROVINCE_CLICKED]:action.payload};\r\n        default: \r\n          return state;\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport reduxThunk from 'redux-thunk';\nimport reducers from './reducers';\nimport {createStore,applyMiddleware} from 'redux';\n\nconst store = createStore(reducers,{},applyMiddleware(reduxThunk))\n\nReactDOM.render(<Provider store = {store}><App /></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}